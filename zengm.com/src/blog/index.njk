---
layout: layout.njk
title: Blog
pagination:
  data: collections.post
  size: 10
  alias: posts
  reverse: true
---
<link href="/css/blog.css" rel="stylesheet">

{% include "blog-teaser.njk" %}

{% import "blog-macros.njk" as blogMacros %}

{%- for post in posts -%}
  {{ blogMacros.postHeader(post.url, post.data.title, post.date, post.data.tags) }}

  {% if post.data.page.excerpt %}
    {% set excerpt = post.data.page.excerpt %}
  {% else %}
    {% set excerpt = post.templateContent %}
  {% endif %}

  {% if post.data.page.inputPath.endsWith("md") %}
    {{ excerpt | renderMarkdown | safe }}
  {% else %}
    {{ excerpt | safe }}
  {% endif %}
{%- endfor -%}
